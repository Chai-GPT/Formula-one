<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F1: The Ultimate Infographic</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Google Font: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --f1-red: #FF1801;
            --f1-black: #15151E;
            --f1-gray: #38383F;
            --f1-light-gray: #DCDCDC;
            --f1-dark-glass: rgba(21, 21, 30, 0.95);
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #000;
            color: var(--f1-light-gray);
            /* Carbon fiber background */
            background-image: 
                linear-gradient(45deg, rgba(21, 21, 30, 0.7) 25%, transparent 25%), 
                linear-gradient(-45deg, rgba(21, 21, 30, 0.7) 25%, transparent 25%), 
                linear-gradient(45deg, transparent 75%, rgba(21, 21, 30, 0.7) 75%), 
                linear-gradient(-45deg, transparent 75%, rgba(21, 21, 30, 0.7) 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
            min-height: 100vh;
            overflow-x: hidden;
            touch-action: pan-y; /* Prevent pinch zoom */
        }
        
        /* Styling for each info pod */
        .pod {
            background-color: var(--f1-dark-glass);
            border: 2px solid var(--f1-gray);
            backdrop-filter: blur(10px);
            padding: 2rem;
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
            /* The high-tech shape */
            clip-path: polygon(0 8%, 8% 0, 100% 0, 100% 92%, 92% 100%, 0 100%);
            transition: border-color 0.3s ease-out, transform 0.3s ease-out;
        }
        
        @media (hover: hover) {
            .pod:hover {
                border-color: var(--f1-red);
                transform: scale(1.01);
            }
        }
        
        .pod.active-scroll {
            border-color: var(--f1-red);
        }

        /* Title Styling */
        .pod-title {
            display: flex;
            align-items: baseline;
            gap: 1rem;
            border-bottom: 2px solid #444;
            padding-bottom: 1rem;
            margin-bottom: 0.5rem;
        }
        .pod-number {
            font-size: 3rem;
            line-height: 1;
            font-weight: 900;
            color: var(--f1-red);
        }
        .pod-title-text {
            font-size: 2rem;
            line-height: 1;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #ffffff;
        }

        /* UPDATED STAT CARD STYLING */
        .stat-display {
            background: linear-gradient(180deg, #2e2e38 0%, #23232b 100%);
            border: 1px solid #3f3f46;
            border-radius: 0.75rem;
            padding: 1rem 0.5rem;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
            height: 100%;
        }
        .stat-display-number {
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--f1-red);
            line-height: 1;
            margin-bottom: 0.25rem;
        }
        .stat-display-label {
            font-size: 0.75rem;
            font-weight: 800;
            text-transform: uppercase;
            color: #e5e7eb;
            line-height: 1.2;
            letter-spacing: 0.05em;
        }
        
        /* Bar chart */
        .bar-chart-bar { 
            background-color: #374151; 
            border-radius: 0.25rem; 
            height: 0.75rem; 
            margin-top: 0.25rem;
        }
        .bar-chart-fill { 
            height: 100%; 
            border-radius: 0.25rem;
        }

        /* List Styling */
        .f1-list li {
            margin-bottom: 0.75rem;
            font-size: 1.05rem;
            line-height: 1.5;
            color: #d1d5db;
        }
        .f1-arrow {
            color: var(--f1-red);
            font-weight: 900;
            margin-right: 0.5rem;
            font-size: 1.2em;
        }

        /* QUIZ STYLING */
        .quiz-btn {
            width: 100%;
            text-align: left;
            padding: 1rem;
            background-color: #2e2e38;
            border: 1px solid #444;
            border-radius: 0.5rem;
            margin-bottom: 0.5rem;
            transition: all 0.2s;
            font-weight: 600;
        }
        .quiz-btn:hover {
            background-color: #3f3f46;
        }
        .quiz-btn.correct {
            background-color: #22c55e; /* Green */
            color: black;
            border-color: #22c55e;
        }
        .quiz-btn.wrong {
            background-color: #ef4444; /* Red */
            color: white;
            border-color: #ef4444;
        }

        /* GAME STYLING */
        #game-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            height: 500px;
            background-color: #1a1a1a;
            border: 4px solid #333;
            border-radius: 10px;
            overflow: hidden;
            margin: 0 auto;
        }
        canvas {
            display: block;
            background: #222;
        }
        #steering-ui {
            position: relative; /* Changed from absolute to relative */
            margin-top: 1rem;   /* Spacing from game box */
            width: 250px;
            height: 250px;
            z-index: 50;
            touch-action: none;
            margin-left: auto;
            margin-right: auto;
        }
        #steering-wheel {
            width: 100%;
            height: 100%;
            object-fit: contain;
            transition: transform 0.1s ease-out;
        }
        /* Control Zones */
        .control-zone {
            position: absolute;
            top: 0;
            height: 100%;
            width: 50%;
            z-index: 60;
            cursor: pointer;
            /* debug background: rgba(255,0,0,0.2); */
        }
        #left-zone { left: 0; }
        #right-zone { right: 0; }

        /* Responsive Text Adjustments */
        @media (max-width: 768px) {
            .pod-title-text { font-size: 1.5rem; }
            .pod-number { font-size: 2rem; }
            .pod { padding: 1.5rem; }
        }

    </style>
</head>
<body class="p-4 md:p-8 relative overflow-x-hidden">

    <!-- ===== NAVIGATION BAR ===== -->
    <nav class="absolute top-0 left-0 w-full z-40 flex justify-end px-6 py-6">
        <button id="menu-btn" class="text-gray-300 hover:text-white transition-colors group flex items-center gap-2">
            <span class="text-xs font-bold uppercase tracking-widest opacity-0 group-hover:opacity-100 transition-opacity duration-300 hidden md:block">Menu</span>
            <svg id="hamburger-icon" xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 group-hover:text-red-500 transition-colors" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M4 8h16M4 16h16" />
            </svg>
        </button>
    </nav>

    <!-- ===== SLIDE-IN MENU ===== -->
    <div id="menu-sidebar" class="fixed top-0 right-0 h-full w-64 bg-black/90 backdrop-blur-lg border-l border-gray-800 z-50 transform translate-x-full transition-transform duration-300 ease-in-out shadow-2xl flex flex-col overflow-y-auto">
        <div class="flex justify-end p-6">
            <button id="close-menu-btn" class="text-gray-400 hover:text-red-500 transition-colors">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
        </div>
        <div class="flex flex-col gap-6 px-8 mt-4">
            <button onclick="showView('home')" class="text-left text-lg font-bold text-white hover:text-red-500 transition-colors uppercase tracking-wider border-b border-gray-800 pb-2">Home</button>
            <!-- Updated Name -->
            <button onclick="showView('game')" class="text-left text-lg font-bold text-white hover:text-red-500 transition-colors uppercase tracking-wider border-b border-gray-800 pb-2 text-yellow-400">Driver Test</button>
            <button onclick="showView('quiz')" class="text-left text-lg font-bold text-white hover:text-red-500 transition-colors uppercase tracking-wider border-b border-gray-800 pb-2">Quiz</button>
            <button onclick="showView('glossary')" class="text-left text-lg font-bold text-white hover:text-red-500 transition-colors uppercase tracking-wider border-b border-gray-800 pb-2">Glossary</button>
            <button onclick="showView('2026')" class="text-left text-lg font-bold text-white hover:text-red-500 transition-colors uppercase tracking-wider border-b border-gray-800 pb-2">2026 Rules</button>
            <button onclick="showView('references')" class="text-left text-lg font-bold text-white hover:text-red-500 transition-colors uppercase tracking-wider border-b border-gray-800 pb-2">References</button>
            <button onclick="showView('credits')" class="text-left text-lg font-bold text-white hover:text-red-500 transition-colors uppercase tracking-wider border-b border-gray-800 pb-2">Credits</button>
        </div>
        <div class="mt-auto p-8 text-center"><p class="text-gray-600 text-xs uppercase tracking-widest">F1 Infographic</p></div>
    </div>

    <div id="menu-backdrop" class="fixed inset-0 bg-black/50 z-40 hidden opacity-0 transition-opacity duration-300"></div>

    <!-- ===== VIEW: HOME ===== -->
    <main id="view-home" class="w-full transition-opacity duration-300 mt-8">
        <header class="max-w-7xl mx-auto mb-12 text-center flex flex-col items-center pt-4">
            <div class="mb-6">
                <img src="Formula-One.png" alt="Formula 1 Logo" class="h-16 md:h-24 object-contain" onerror="this.style.display='none'; this.parentElement.innerHTML='<div class=\'text-red-500 font-bold text-center text-2xl\'>F1</div>'">
            </div>
            <h1 class="text-5xl md:text-7xl font-black text-white uppercase tracking-wider">THE F1 INFO-GRAPHIC</h1>
            <p class="text-lg md:text-xl text-gray-400 font-bold uppercase tracking-widest mt-2">A visual map of the sport, the speed, and the business</p>
        </header>

        <div class="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-2 gap-8">
            <!-- Pod 1 -->
            <section class="pod" id="pod1">
                <div class="pod-title"><div class="pod-number">01</div><div class="pod-title-text">The F1 Athlete</div></div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-6">
                    <div class="flex justify-center items-center md:row-span-1 pt-4">
                        <img src="Helmet-Logo.png" alt="F1 Helmet" class="w-40 h-40 md:w-full md:h-auto object-contain max-h-64 opacity-90" onerror="this.style.display='none'; this.parentElement.innerHTML='<div class=\'text-red-500 font-bold text-center\'>[Image: Helmet-Logo.png]</div>'">
                    </div>
                    <div class="md:col-span-2 flex flex-col justify-between h-full">
                        <p class="text-lg text-gray-300 mb-6 leading-relaxed">An F1 driver is an elite athlete trained for a unique combination of extreme G-forces, intense heat, and split-second mental processing.</p>
                        <div class="grid grid-cols-2 sm:grid-cols-4 gap-3">
                            <div class="stat-display"><div class="stat-display-number">6G</div><div class="stat-display-label">PEAK<br>G-FORCE</div></div>
                            <div class="stat-display"><div class="stat-display-number">180</div><div class="stat-display-label">AVG.<br>BPM</div></div>
                            <div class="stat-display"><div class="stat-display-number">50&deg;</div><div class="stat-display-label">COCKPIT<br>HEAT</div></div>
                            <div class="stat-display"><div class="stat-display-number">2KG</div><div class="stat-display-label">SWEAT<br>LOST</div></div>
                        </div>
                    </div>
                </div>
                <div class="w-full border-t border-gray-700 pt-4">
                    <ul class="f1-list list-none text-left">
                        <li><span class="f1-arrow">&gt;</span><strong class="text-white uppercase">NECK STRENGTH:</strong> In a corner, the driver's head + helmet feels like it weighs <strong class="text-white">30kg (66 lbs)</strong>.</li>
                        <li><span class="f1-arrow">&gt;</span><strong class="text-white uppercase">ENDURANCE:</strong> A 2-hour race at 160-180 bpm is like running a marathon, but sitting down.</li>
                    </ul>
                </div>
            </section>

            <!-- Pod 2 -->
            <section class="pod" id="pod2">
                <div class="pod-title"><div class="pod-number">02</div><div class="pod-title-text">How The Race Works</div></div>
                <p class="text-lg mb-6">It's a global championship (~24 races) across 5 continents. Each "Grand Prix" is a 3-day event where strategy is as important as speed.</p>
                <div class="space-y-8">
                    <div>
                        <h3 class="font-bold text-white text-lg uppercase mb-3">The 3-Day Event Breakdown</h3>
                        <div class="flex flex-col md:flex-row justify-between items-center gap-3 w-full">
                            <div class="bg-gray-800 p-4 rounded-lg flex-1 w-full text-center"><div class="font-bold text-xl text-white">FRIDAY</div><div class="text-sm text-gray-400">Practice</div></div>
                            <div class="text-gray-600 text-2xl font-black transform rotate-90 md:rotate-0">&gt;&gt;</div>
                            <div class="bg-gray-800 p-4 rounded-lg flex-1 w-full text-center"><div class="font-bold text-xl text-white">SATURDAY</div><div class="text-sm text-gray-400">Qualifying</div></div>
                            <div class="text-gray-600 text-2xl font-black transform rotate-90 md:rotate-0">&gt;&gt;</div>
                            <div class="p-4 rounded-lg flex-1 w-full text-center border border-red-600" style="background-color: var(--f1-red);"><div class="font-bold text-xl text-black">SUNDAY</div><div class="text-sm text-gray-900 font-bold">Race Day</div></div>
                        </div>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <h3 class="font-bold text-white text-lg uppercase mb-3">Tire Strategy</h3>
                            <p class="text-sm mb-3">Must use 2 of 3 compounds. Pit stops are &lt; 2.5s.</p>
                            <div class="flex justify-between items-end px-2">
                                <div class="text-center"><div class="w-14 h-14 rounded-full bg-red-600 border-4 border-red-300 mx-auto mb-1"></div><span class="font-bold text-sm">SOFT</span></div>
                                <div class="text-center"><div class="w-14 h-14 rounded-full bg-yellow-400 border-4 border-yellow-200 mx-auto mb-1"></div><span class="font-bold text-sm">MEDIUM</span></div>
                                <div class="text-center"><div class="w-14 h-14 rounded-full bg-white border-4 border-gray-400 mx-auto mb-1"></div><span class="font-bold text-sm">HARD</span></div>
                            </div>
                        </div>
                        <div>
                            <h3 class="font-bold text-white text-lg uppercase mb-3">Points (Top 10)</h3>
                            <div class="text-lg font-bold leading-loose">1st:<span class="text-red-500">25</span> | 2nd:<span class="text-red-500">18</span> | 3rd:<span class="text-red-500">15</span><br>4th:<span class="text-red-500">12</span> | 5th:<span class="text-red-500">10</span> | 6th:<span class="text-red-500">8</span></div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Pod 3 -->
            <section class="pod" id="pod3">
                <div class="pod-title"><div class="pod-number">03</div><div class="pod-title-text">Speed Engineering</div></div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-6">
                    <div class="flex justify-center items-center md:row-span-1 pt-4">
                        <img src="Engine-Logo.png" alt="F1 Engine" class="w-40 h-40 md:w-full md:h-auto object-contain max-h-64 opacity-90" onerror="this.style.display='none'; this.parentElement.innerHTML='<div class=\'text-red-500 font-bold text-center\'>[Image: Engine-Logo.png]</div>'">
                    </div>
                    <div class="md:col-span-2 flex flex-col justify-between h-full">
                        <p class="text-lg text-gray-300 mb-6 leading-relaxed">The car is a 1000+ HP hybrid. The magic is how it uses a tiny <strong class="text-white">1.6-Liter V6</strong> to produce this power.</p>
                        <div class="bg-gray-800 rounded-lg p-6 text-center mb-6 border border-gray-700">
                            <div class="text-5xl font-black text-red-500 mb-1">&gt;52%</div>
                            <div class="text-xs font-bold text-white uppercase tracking-widest">The World's Most Efficient Engine</div>
                        </div>
                    </div>
                </div>
                <div class="w-full border-t border-gray-700 pt-4">
                    <ul class="f1-list list-none text-left">
                        <li><span class="f1-arrow">&gt;</span><strong class="text-white">ICE:</strong> 1.6L V6 spins to 15,000 RPM.</li>
                        <li><span class="f1-arrow">&gt;</span><strong class="text-white">MGU-K:</strong> Recovers braking energy (160hp).</li>
                        <li><span class="f1-arrow">&gt;</span><strong class="text-white">MGU-H:</strong> Recovers turbo heat.</li>
                    </ul>
                </div>
            </section>

            <!-- Pod 4 -->
            <section class="pod" id="pod4">
                <div class="pod-title"><div class="pod-number">04</div><div class="pod-title-text">The Profitability</div></div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12">
                    <div>
                        <p class="text-lg mb-6">Prize money covers only a fraction of the true cost. Teams rely on owners/sponsors to cover the deficit.</p>
                        <h3 class="font-bold text-white text-lg uppercase mb-4">Costs vs. Revenue (Top Team)</h3>
                        <div class="space-y-5">
                            <div><div class="flex justify-between text-xs font-bold mb-1 uppercase text-white"><span>Real Cost</span><span>~$350 Million</span></div><div class="bar-chart-bar"><div class="bar-chart-fill" style="width: 100%; background-color: var(--f1-red);"></div></div></div>
                            <div><div class="flex justify-between text-xs font-bold mb-1 uppercase text-white"><span>Prize Money</span><span>~$140 Million</span></div><div class="bar-chart-bar"><div class="bar-chart-fill" style="width: 40%; background-color: #3b82f6;"></div></div></div>
                            <div><div class="flex justify-between text-xs font-bold mb-1 uppercase text-white"><span>Sponsorship</span><span>~$150-200 Million</span></div><div class="bar-chart-bar"><div class="bar-chart-fill" style="width: 50%; background-color: #22c55e;"></div></div></div>
                        </div>
                    </div>
                    <div class="flex flex-col items-center justify-center pl-0 md:pl-8">
                         <h3 class="font-black text-white text-2xl uppercase text-center tracking-wide mb-6">CASE STUDY:<br>RED BULL</h3>
                         <div class="w-full max-w-[200px] aspect-square flex items-center justify-center mb-6">
                            <img src="Red-Bull-Logo.png" alt="Red Bull" class="w-full h-full object-contain" onerror="this.style.display='none'; this.parentElement.innerHTML='<div class=\'text-red-500 font-bold text-center\'>[Image: Red-Bull-Logo.png]</div>'">
                         </div>
                         <div class="text-center"><p class="text-lg text-gray-300 leading-relaxed">Red Bull <strong class="text-white font-black">owns two teams</strong>. It's their biggest marketing tool.</p></div>
                    </div>
                </div>
            </section>
            
            <!-- Pod 5 -->
            <section class="pod lg:col-span-2" id="pod5">
                <div class="pod-title"><div class="pod-number">05</div><div class="pod-title-text">Can I be a Driver?</div></div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-6">
                    <div class="flex justify-center items-center md:row-span-1 pt-4">
                        <img src="Steering-Wheel.png" alt="F1 Wheel" class="w-32 h-32 md:w-40 md:h-40 object-contain" onerror="this.style.display='none'; this.parentElement.innerHTML='<div class=\'text-red-500 font-bold text-center\'>[Image: Steering-Wheel.png]</div>'">
                    </div>
                    <div class="md:col-span-2 flex flex-col justify-start h-full">
                        <p class="text-lg text-gray-300 mb-6 leading-relaxed">Becoming an F1 driver is incredibly rare. Only 20 drivers in the world hold a seat at any given time.</p>
                        <h3 class="font-bold text-white text-lg uppercase mb-3">WHAT SETS THEM APART?</h3>
                    </div>
                </div>
                 <div class="w-full border-t border-gray-700 pt-4">
                    <ul class="f1-list list-none text-left">
                        <li><span class="f1-arrow">&gt;</span><strong class="text-white">Starting Young:</strong> Most begin karting as early as age 4 or 5.</li>
                        <li><span class="f1-arrow">&gt;</span><strong class="text-white">Funding:</strong> Millions of dollars are needed.</li>
                        <li><span class="f1-arrow">&gt;</span><strong class="text-white">Super Licence:</strong> Drivers must earn enough points in junior series (F2, F3).</li>
                    </ul>
                </div>
            </section>
        </div>

        <footer class="max-w-7xl mx-auto mt-16 mb-8 text-center border-t border-gray-800 pt-8">
            <p class="text-gray-500 text-sm font-semibold uppercase tracking-wider">&copy; 2025 All Rights Reserved</p>
            <p class="text-gray-600 text-xs mt-2 uppercase tracking-widest">Ain Shams University, Faculty of Engineering</p>
            <div class="mt-6 flex justify-center">
                <img src="GPT-Logo.png" alt="GPT Logo" class="h-8 md:h-10 object-contain opacity-80 hover:opacity-100 transition-opacity duration-300" onerror="this.style.display='none'; this.parentElement.innerHTML='<span class=\'text-gray-700 text-xs\'>[GPT-Logo.png]</span>'">
            </div>
        </footer>
    </main>

    <!-- ===== VIEW: GAME (NEW) ===== -->
    <main id="view-game" class="hidden w-full min-h-screen flex flex-col items-center justify-start pt-28 pb-12 px-4">
        <div class="max-w-4xl w-full pod animate-fade-in">
            <div class="pod-title justify-center border-b-0 pb-4">
                <div class="pod-title-text text-4xl md:text-5xl text-center">Driver Reflex Test</div>
            </div>
            <p class="text-center text-gray-400 mb-4">Use the steering wheel below to dodge obstacles!</p>
            
            <div class="flex justify-between w-full max-w-[400px] mx-auto mb-2 px-2 text-white font-bold">
                <div id="score-display">Score: 0</div>
                <div id="highscore-display" class="text-red-500">High Score: 0</div>
            </div>

            <!-- Flex Wrapper to stack Game Box and Wheel -->
            <div class="flex flex-col items-center">
                <!-- Game Container -->
                <div id="game-container">
                    <canvas id="gameCanvas" width="400" height="500"></canvas>
                    
                    <!-- Start Overlay -->
                    <div id="game-start-overlay" class="absolute inset-0 bg-black/80 flex flex-col items-center justify-center z-50">
                        <h2 class="text-3xl font-black text-white mb-4 uppercase">Ready?</h2>
                        <button onclick="startGame()" class="px-8 py-3 bg-red-600 text-white font-bold rounded hover:bg-red-700 uppercase tracking-widest">Start Engine</button>
                    </div>

                    <!-- Game Over Overlay -->
                    <div id="game-over-overlay" class="hidden absolute inset-0 bg-red-900/90 flex flex-col items-center justify-center z-50">
                        <h2 class="text-4xl font-black text-white mb-2 uppercase">CRASH!</h2>
                        <p id="final-score" class="text-xl text-white mb-6">Score: 0</p>
                        <button onclick="startGame()" class="px-8 py-3 bg-white text-red-900 font-bold rounded hover:bg-gray-200 uppercase tracking-widest cursor-pointer relative z-50">Try Again</button>
                    </div>
                </div>

                <!-- Steering Wheel Controller (Now Outside) -->
                <div id="steering-ui">
                    <img src="Steering-Wheel.png" id="steering-wheel" alt="Controller">
                    <div class="control-zone" id="left-zone" onclick="moveCar(-1)"></div>
                    <div class="control-zone" id="right-zone" onclick="moveCar(1)"></div>
                </div>
            </div>
        </div>
    </main>

    <!-- ===== VIEW: QUIZ ===== -->
    <main id="view-quiz" class="hidden w-full min-h-screen flex flex-col items-center justify-start pt-28 pb-12 px-4">
        <div class="max-w-4xl w-full pod animate-fade-in">
            <div class="pod-title justify-center border-b-0 pb-4"><div class="pod-title-text text-4xl md:text-5xl text-center">Knowledge Check</div></div>
            <p class="text-center text-gray-400 mb-8">Test your understanding.</p>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                <div class="p-6 border border-gray-700 bg-black bg-opacity-50 rounded-xl">
                    <h3 class="text-white font-bold text-lg mb-4">1. Thermal efficiency of F1 Hybrid Engine?</h3>
                    <button class="quiz-btn" onclick="checkAnswer(this, false)">A. 30%</button>
                    <button class="quiz-btn" onclick="checkAnswer(this, true)">B. >52%</button>
                    <button class="quiz-btn" onclick="checkAnswer(this, false)">C. 40%</button>
                </div>
                <div class="p-6 border border-gray-700 bg-black bg-opacity-50 rounded-xl">
                    <h3 class="text-white font-bold text-lg mb-4">2. Weight driver loses per race?</h3>
                    <button class="quiz-btn" onclick="checkAnswer(this, false)">A. 0.5 kg</button>
                    <button class="quiz-btn" onclick="checkAnswer(this, false)">B. 5 kg</button>
                    <button class="quiz-btn" onclick="checkAnswer(this, true)">C. ~2 kg</button>
                </div>
                <div class="p-6 border border-gray-700 bg-black bg-opacity-50 rounded-xl">
                    <h3 class="text-white font-bold text-lg mb-4">3. Component recovering heat energy?</h3>
                    <button class="quiz-btn" onclick="checkAnswer(this, true)">A. MGU-H</button>
                    <button class="quiz-btn" onclick="checkAnswer(this, false)">B. MGU-K</button>
                    <button class="quiz-btn" onclick="checkAnswer(this, false)">C. DRS</button>
                </div>
                <div class="p-6 border border-gray-700 bg-black bg-opacity-50 rounded-xl">
                    <h3 class="text-white font-bold text-lg mb-4">4. Max Downforce?</h3>
                    <button class="quiz-btn" onclick="checkAnswer(this, false)">A. 1,000 kg</button>
                    <button class="quiz-btn" onclick="checkAnswer(this, true)">B. 3,000 kg</button>
                    <button class="quiz-btn" onclick="checkAnswer(this, false)">C. 500 kg</button>
                </div>
            </div>
            <div class="flex justify-center"><button onclick="restartQuiz()" class="px-8 py-3 bg-red-600 text-white font-black uppercase tracking-widest rounded hover:bg-red-700 transition-colors shadow-lg hover:scale-105 transform duration-200">Restart Quiz</button></div>
        </div>
    </main>

    <!-- ===== VIEW: GLOSSARY ===== -->
    <main id="view-glossary" class="hidden w-full min-h-screen flex flex-col items-center justify-start pt-28 pb-12 px-4">
        <div class="max-w-4xl w-full pod animate-fade-in">
            <div class="pod-title justify-center border-b-0 pb-4"><div class="pod-title-text text-4xl md:text-5xl text-center">Technical Glossary</div></div>
            <div class="space-y-4">
                <div class="p-6 border border-gray-700 bg-black bg-opacity-50 rounded-xl"><h3 class="text-red-500 font-black text-xl mb-1">AERODYNAMICS</h3><p class="text-gray-300">Minimizing drag while maximizing downforce.</p></div>
                <div class="p-6 border border-gray-700 bg-black bg-opacity-50 rounded-xl"><h3 class="text-red-500 font-black text-xl mb-1">DOWNFORCE</h3><p class="text-gray-300">Vertical force pushing car to track for grip.</p></div>
                <div class="p-6 border border-gray-700 bg-black bg-opacity-50 rounded-xl"><h3 class="text-red-500 font-black text-xl mb-1">DRS</h3><p class="text-gray-300">Drag Reduction System. Flap opens for +15km/h.</p></div>
                <div class="p-6 border border-gray-700 bg-black bg-opacity-50 rounded-xl"><h3 class="text-red-500 font-black text-xl mb-1">MGU-K</h3><p class="text-gray-300">Harvests braking energy to crank shaft.</p></div>
            </div>
        </div>
    </main>

    <!-- ===== VIEW: 2026 RULES ===== -->
    <main id="view-2026" class="hidden w-full min-h-screen flex flex-col items-center justify-start pt-28 pb-12 px-4">
        <div class="max-w-4xl w-full pod animate-fade-in">
            <div class="pod-title justify-center border-b-0 pb-4"><div class="pod-title-text text-4xl md:text-5xl text-center">The Future: 2026</div></div>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div class="p-6 border-2 border-blue-500 bg-gray-900 bg-opacity-80 rounded-xl flex flex-col items-center text-center"><div class="text-4xl mb-2">üå±</div><h3 class="text-blue-400 font-black text-xl uppercase mb-2">100% Sustainable Fuel</h3><p class="text-gray-300 text-sm">Drop-in net-zero carbon fuels.</p></div>
                <div class="p-6 border-2 border-yellow-500 bg-gray-900 bg-opacity-80 rounded-xl flex flex-col items-center text-center"><div class="text-4xl mb-2">‚ö°</div><h3 class="text-yellow-400 font-black text-xl uppercase mb-2">More Electric Power</h3><p class="text-gray-300 text-sm">Triple electric power (350kW).</p></div>
                <div class="p-6 border-2 border-red-500 bg-gray-900 bg-opacity-80 rounded-xl flex flex-col items-center text-center"><div class="text-4xl mb-2">‚ùå</div><h3 class="text-red-500 font-black text-xl uppercase mb-2">No More MGU-H</h3><p class="text-gray-300 text-sm">Removing complexity.</p></div>
                <div class="p-6 border-2 border-white bg-gray-900 bg-opacity-80 rounded-xl flex flex-col items-center text-center"><div class="text-4xl mb-2">üìè</div><h3 class="text-white font-black text-xl uppercase mb-2">Smaller & Lighter</h3><p class="text-gray-300 text-sm">Narrower, shorter cars for agility.</p></div>
            </div>
        </div>
    </main>

    <!-- ===== VIEW: REFERENCES ===== -->
    <main id="view-references" class="hidden w-full min-h-screen flex flex-col items-center justify-start pt-28 pb-12 px-4">
        <div class="max-w-4xl w-full pod animate-fade-in">
            <div class="pod-title justify-center border-b-0 pb-4"><div class="pod-title-text text-4xl md:text-5xl text-center">References</div></div>
            <div class="space-y-6">
                <a href="https://www.fia.com/regulation/category/110" target="_blank" class="block p-6 border border-gray-700 bg-black bg-opacity-50 rounded-xl hover:border-red-500 hover:bg-gray-900 transition-all duration-300 group cursor-pointer"><div class="flex justify-between items-center"><h3 class="text-white font-bold text-lg uppercase mb-1 group-hover:text-red-500 transition-colors">FIA Technical Regulations</h3><div class="text-red-500 text-xl font-black">&nearr;</div></div></a>
                <a href="https://www.redbullracing.com/" target="_blank" class="block p-6 border border-gray-700 bg-black bg-opacity-50 rounded-xl hover:border-red-500 hover:bg-gray-900 transition-all duration-300 group cursor-pointer"><div class="flex justify-between items-center"><h3 class="text-white font-bold text-lg uppercase mb-1 group-hover:text-red-500 transition-colors">Red Bull Racing</h3><div class="text-red-500 text-xl font-black">&nearr;</div></div></a>
                <a href="https://www.pirelli.com/global/en-ww/race/tyre-range" target="_blank" class="block p-6 border border-gray-700 bg-black bg-opacity-50 rounded-xl hover:border-red-500 hover:bg-gray-900 transition-all duration-300 group cursor-pointer"><div class="flex justify-between items-center"><h3 class="text-white font-bold text-lg uppercase mb-1 group-hover:text-red-500 transition-colors">Pirelli Motorsport</h3><div class="text-red-500 text-xl font-black">&nearr;</div></div></a>
                <a href="https://www.brembo.com/en/car/formula-1" target="_blank" class="block p-6 border border-gray-700 bg-black bg-opacity-50 rounded-xl hover:border-red-500 hover:bg-gray-900 transition-all duration-300 group cursor-pointer"><div class="flex justify-between items-center"><h3 class="text-white font-bold text-lg uppercase mb-1 group-hover:text-red-500 transition-colors">Brembo Brakes</h3><div class="text-red-500 text-xl font-black">&nearr;</div></div></a>
            </div>
        </div>
    </main>

    <!-- ===== VIEW: CREDITS ===== -->
    <main id="view-credits" class="hidden w-full min-h-screen flex flex-col items-center justify-start pt-28 pb-12 px-4">
        <div class="max-w-4xl w-full pod animate-fade-in">
            <div class="pod-title justify-center border-b-0 pb-4"><div class="pod-title-text text-4xl md:text-5xl text-center">Credits</div></div>
            <div class="space-y-6 text-center">
                <div class="p-4 md:p-6 border border-gray-700 bg-black bg-opacity-50 rounded-xl"><h3 class="text-red-500 font-black text-xl uppercase mb-2">Institution</h3><p class="text-xl md:text-2xl text-white font-bold uppercase">Ain Shams University</p><p class="text-gray-400 text-base md:text-lg uppercase tracking-widest">Faculty of Engineering</p></div>
                <div class="p-4 md:p-6 border border-gray-700 bg-black bg-opacity-50 rounded-xl"><h3 class="text-red-500 font-bold text-sm uppercase tracking-widest mb-4">Submitted To</h3><div class="flex flex-col md:flex-row justify-center gap-2 md:gap-12"><div><p class="text-white font-black text-lg md:text-xl uppercase">Prof. Mohamed El Banna</p></div><div><p class="text-white font-black text-lg md:text-xl uppercase">Eng. Mohamed Hossam</p></div></div></div>
                <div class="p-4 md:p-6 border border-gray-700 bg-black bg-opacity-50 rounded-xl">
                    <h3 class="text-red-500 font-bold text-sm uppercase tracking-widest mb-4">Submitted By</h3>
                    <div class="flex flex-col gap-3 max-w-md mx-auto">
                        <div class="flex justify-between items-center bg-gray-900/50 p-2 px-3 md:px-4 rounded border border-gray-800"><span class="text-white font-bold text-sm md:text-base text-left">Awsam Nady</span><span class="text-red-500 font-mono text-sm whitespace-nowrap">25P0419</span></div>
                        <div class="flex justify-between items-center bg-gray-900/50 p-2 px-3 md:px-4 rounded border border-gray-800"><span class="text-white font-bold text-sm md:text-base text-left">Fabio Amgad</span><span class="text-red-500 font-mono text-sm whitespace-nowrap">25P0301</span></div>
                        <div class="flex justify-between items-center bg-gray-900/50 p-2 px-3 md:px-4 rounded border border-gray-800"><span class="text-white font-bold text-sm md:text-base text-left">Marly Emad</span><span class="text-red-500 font-mono text-sm whitespace-nowrap">25P0316</span></div>
                        <div class="flex justify-between items-center bg-gray-900/50 p-2 px-3 md:px-4 rounded border border-gray-800"><span class="text-white font-bold text-sm md:text-base text-left">Natalie Wael</span><span class="text-red-500 font-mono text-sm whitespace-nowrap">25P0264</span></div>
                        <div class="flex justify-between items-center bg-gray-900/50 p-2 px-3 md:px-4 rounded border border-gray-800"><span class="text-white font-bold text-sm md:text-base text-left">Pierre Magdy</span><span class="text-red-500 font-mono text-sm whitespace-nowrap">25P0304</span></div>
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                     <div class="p-4 border border-gray-700 bg-black bg-opacity-50 rounded-xl flex flex-col items-center justify-center"><h3 class="text-red-500 font-bold text-sm uppercase mb-2">Designed & Developed By</h3><img src="GPT-Logo.png" alt="Engineering Team" class="h-8 object-contain"></div>
                     <div class="p-4 border border-gray-700 bg-black bg-opacity-50 rounded-xl"><h3 class="text-red-500 font-bold text-sm uppercase mb-1">Year</h3><p class="text-white font-bold">2025</p></div>
                </div>
            </div>
        </div>
    </main>

    <!-- SCRIPTS -->
    <script>
        // --- MENU LOGIC ---
        const menuBtn = document.getElementById('menu-btn');
        const closeMenuBtn = document.getElementById('close-menu-btn');
        const menuSidebar = document.getElementById('menu-sidebar');
        const menuBackdrop = document.getElementById('menu-backdrop');
        
        const views = {
            home: document.getElementById('view-home'),
            game: document.getElementById('view-game'),
            quiz: document.getElementById('view-quiz'),
            glossary: document.getElementById('view-glossary'),
            '2026': document.getElementById('view-2026'),
            references: document.getElementById('view-references'),
            credits: document.getElementById('view-credits')
        };

        function toggleMenu(open) {
            if (open) {
                menuSidebar.classList.remove('translate-x-full');
                menuBackdrop.classList.remove('hidden');
                setTimeout(() => menuBackdrop.classList.remove('opacity-0'), 10);
                document.body.style.overflowY = 'hidden'; 
            } else {
                menuSidebar.classList.add('translate-x-full');
                menuBackdrop.classList.add('opacity-0');
                setTimeout(() => menuBackdrop.classList.add('hidden'), 300);
                document.body.style.overflowY = 'auto'; 
            }
        }
        menuBtn.addEventListener('click', () => toggleMenu(true));
        closeMenuBtn.addEventListener('click', () => toggleMenu(false));
        menuBackdrop.addEventListener('click', () => toggleMenu(false));

        window.showView = (viewName) => {
            toggleMenu(false);
            Object.values(views).forEach(el => el.classList.add('hidden'));
            if (views[viewName]) {
                views[viewName].classList.remove('hidden');
                if (viewName === 'home' && window.innerWidth < 1024) checkScroll();
            }
            window.scrollTo(0,0);
            
            // Stop Game Loop if leaving game view
            if(viewName !== 'game') {
                gameRunning = false;
            }
        };

        // --- GAME LOGIC (CANVAS) ---
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const startOverlay = document.getElementById('game-start-overlay');
        const gameOverOverlay = document.getElementById('game-over-overlay');
        const scoreDisplay = document.getElementById('score-display');
        const highScoreDisplay = document.getElementById('highscore-display');
        const finalScoreEl = document.getElementById('final-score');
        const steeringWheelImg = document.getElementById('steering-wheel');

        // Load Images
        const carImg = new Image(); carImg.src = 'F1Car.png';
        const obstacleImg = new Image(); obstacleImg.src = 'F1Obstacles.png';

        // Game State
        let gameRunning = false;
        let score = 0;
        let highScore = localStorage.getItem('f1_highscore') || 0;
        highScoreDisplay.innerText = `High Score: ${highScore}`;
        let speed = 5;
        let animationId;
        let spawnTimer; // New: Track the timeout ID

        // Lane Config
        const lanes = [66, 200, 333]; // x-centers of 3 lanes
        let currentLane = 1; // Start in middle (0, 1, 2)

        // Objects
        let obstacles = [];
        const carY = 350; // Adjusted for smaller canvas height
        const carWidth = 60;
        const carHeight = 100;

        function startGame() {
            // Reset everything cleanly
            gameRunning = true;
            score = 0;
            speed = 5;
            obstacles = [];
            currentLane = 1;
            updateScoreUI();
            
            // Hide overlays
            startOverlay.classList.add('hidden');
            gameOverOverlay.classList.add('hidden');
            
            // Clear existing timers and frames
            if (animationId) cancelAnimationFrame(animationId);
            if (spawnTimer) clearTimeout(spawnTimer);

            // Start new loops
            gameLoop();
            spawnObstacleLoop();
        }

        function spawnObstacleLoop() {
            if (!gameRunning) return;
            spawnObstacle();
            // Spawn rate increases with score
            let delay = Math.max(800, 2000 - (score * 50)); 
            spawnTimer = setTimeout(spawnObstacleLoop, delay); // Use variable
        }

        function spawnObstacle() {
            const laneIndex = Math.floor(Math.random() * 3);
            obstacles.push({
                lane: laneIndex,
                y: -100,
                width: 60,
                height: 60
            });
        }

        function update() {
            // Update obstacles
            for (let i = obstacles.length - 1; i >= 0; i--) {
                obstacles[i].y += speed;

                // Remove if off screen
                if (obstacles[i].y > canvas.height) {
                    obstacles.splice(i, 1);
                    score++;
                    if (score % 5 === 0) speed += 0.5; // Increase speed every 5 pts
                    updateScoreUI();
                }
                // Collision
                else if (
                    obstacles[i].lane === currentLane &&
                    obstacles[i].y + obstacles[i].height > carY + 10 && // buffer
                    obstacles[i].y < carY + carHeight - 10
                ) {
                    gameOver();
                }
            }
        }

        function draw() {
            // Clear
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // Draw Road
            ctx.fillStyle = '#333';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw Lines
            ctx.strokeStyle = '#fff';
            ctx.setLineDash([20, 20]);
            ctx.lineWidth = 4;
            ctx.beginPath();
            ctx.moveTo(133, 0); ctx.lineTo(133, canvas.height);
            ctx.moveTo(266, 0); ctx.lineTo(266, canvas.height);
            ctx.stroke();

            // Draw Car
            let x = lanes[currentLane] - (carWidth / 2);
            ctx.drawImage(carImg, x, carY, carWidth, carHeight);

            // Draw Obstacles
            obstacles.forEach(obs => {
                let ox = lanes[obs.lane] - (obs.width / 2);
                ctx.drawImage(obstacleImg, ox, obs.y, obs.width, obs.height);
            });
        }

        function gameLoop() {
            if (!gameRunning) return;
            update();
            draw();
            animationId = requestAnimationFrame(gameLoop);
        }

        function gameOver() {
            gameRunning = false;
            cancelAnimationFrame(animationId);
            if (spawnTimer) clearTimeout(spawnTimer); // Stop spawning immediately
            
            if (score > highScore) {
                highScore = score;
                localStorage.setItem('f1_highscore', highScore);
                highScoreDisplay.innerText = `High Score: ${highScore}`;
            }
            finalScoreEl.innerText = `Score: ${score}`;
            gameOverOverlay.classList.remove('hidden');
        }

        function updateScoreUI() {
            scoreDisplay.innerText = `Score: ${score}`;
        }

        // Input Handling
        window.moveCar = (dir) => {
            if (!gameRunning) return;
            
            currentLane += dir;
            if (currentLane < 0) currentLane = 0;
            if (currentLane > 2) currentLane = 2;

            // Rotate wheel effect
            const rotation = dir === -1 ? -45 : 45;
            steeringWheelImg.style.transform = `rotate(${rotation}deg)`;
            setTimeout(() => {
                steeringWheelImg.style.transform = `rotate(0deg)`;
            }, 200);
        };
        
        // Keyboard support
        document.addEventListener('keydown', (e) => {
            if (!gameRunning && views.game.classList.contains('hidden') === false && e.key === 'Enter') startGame();
            if (gameRunning) {
                if (e.key === 'ArrowLeft') moveCar(-1);
                if (e.key === 'ArrowRight') moveCar(1);
            }
        });


        // --- QUIZ LOGIC ---
        window.checkAnswer = (btn, isCorrect) => {
            const parent = btn.parentElement;
            const buttons = parent.querySelectorAll('.quiz-btn');
            buttons.forEach(b => {
                b.classList.remove('correct', 'wrong');
                b.style.opacity = '1';
                b.innerText = b.innerText.replace(' ‚úÖ', '').replace(' ‚ùå', '');
            });
            buttons.forEach(b => b.style.opacity = '0.5');
            btn.style.opacity = '1';
            if (isCorrect) {
                btn.classList.add('correct');
                btn.innerText += " ‚úÖ";
            } else {
                btn.classList.add('wrong');
                btn.innerText += " ‚ùå";
            }
        };

        window.restartQuiz = () => {
            const allButtons = document.querySelectorAll('.quiz-btn');
            allButtons.forEach(b => {
                b.classList.remove('correct', 'wrong');
                b.style.opacity = '1';
                b.innerText = b.innerText.replace(' ‚úÖ', '').replace(' ‚ùå', '');
            });
        };

        // --- SCROLL SPY ---
        const pods = document.querySelectorAll('.pod');
        const checkScroll = () => {
            if (views.home.classList.contains('hidden')) return;
            const viewportCenter = window.innerHeight / 2;
            let closestPod = null;
            let minDistance = Infinity;
            pods.forEach(pod => {
                const rect = pod.getBoundingClientRect();
                const podCenter = rect.top + (rect.height / 2);
                const distance = Math.abs(viewportCenter - podCenter);
                if (distance < minDistance) { minDistance = distance; closestPod = pod; }
            });
            pods.forEach(pod => {
                if (pod === closestPod) pod.classList.add('active-scroll');
                else pod.classList.remove('active-scroll');
            });
        };
        document.addEventListener('DOMContentLoaded', () => {
            if (window.innerWidth < 1024) {
                window.addEventListener('scroll', checkScroll);
                checkScroll();
            }
        });
    </script>
</body>
</html>